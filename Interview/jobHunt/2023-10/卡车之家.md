# 卡车之家
- 离职原因 hr是在问你的红线在哪里，你不能接受的点在哪里，不是在问你哪不舒服，那是槽点。
  - 公司内部业务调整，一条业务线裁掉百分之八十。
  -

- js 重构 ts
  - 所做内容：
    接口类型：给所有个接口返回值添加对应的 ts 类型
    组件类型：组件参数、事件、暴露值的类型添加
    公共方法：公共方法 tools 的文档，类型声明
    项目枚举：项目枚举的应用
    store：store 的类型申明，方法逻辑修改
  - 挑战：
    - 原有代码结构复杂，缺乏文档，需要深入理解业务逻辑和数据流
    - 设计类型文件夹的结构划分，两人合作分工，书写方法。
      - 根目录新建 types 文件夹，默认 index.ts 按照项目模块来新建文件夹，在模块文件夹下，新建 index.ts 是改模块的公共类型申明。
  - 解决方案： 首先进行了详尽的代码审查和文档整理，然后采用逐步重构的策略，将代码分成小模块进行迁移，逐步解决问题，确保代码质量不受影响。
- hooks 封装
  - 项目内有一个专用的下拉刷新组件，但是使用变量申明，接口发送，下拉刷新，每个页面都是重复编写，抽离了一个下拉刷新 hooks ，
    - 参数：接口页面的 loading 状态，请求列表的 api 方法，是否开启下拉
    - 返回：组件专用的 props ，上滑加载更多，重置
  - 使用 hooks 后，每个组件中代码能够减少 50行代码，逻辑抽离，在组件有改动的时候，只需要配套修改 hooks 即可。
