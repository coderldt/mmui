# 卡车之家
- 以卡车产品为导向，建立厂商、经销商、卡车用户之间桥梁”的互联网平台，依托数据、资讯、互动、交易、移动互联网、服务六大平台，主要产品有 android ios web 微信小程序。web 网站日访问量在15年达到300w，最高到700w。
- 卡车之家-是一站式汽车信息与服务平台，涵盖内容、工具和社区，为用户提供真实、专业的汽车内容和高效的选车服务，同时为汽车厂商和汽车经销商提供高效解决方案。
- 小程序
  - 项目描述
    卡车之家小程序以卡车产品为为导向，为经销商和用户提供真实专业的服务平台，涉及公司咨询，互动，选车，二手车四大模块的内容，累计用户89w，日活跃量3w
  - 累计用户73w，日活跃量3w。

## ts 重构
- 搭建 TypeScript 开发环境，配置 tsconfig.json 文件，依据项目需求定制编译选项，优化编译流程，使编译效率提高 [X]%。
- 添加 @types/库 添加库的对应类型声明
- 梳理业务的逻辑关联，公共内容的类型提取
- types 和 enums 结构搭建
- 接口数据泛型声明
- 方法函数和核心组件 添加类型注解，提升可读性

## 评论组件的抽离
-

## 下拉刷新，上拉加载更多
-


### 科产官网
- 安全
  - jwt 进行token认证和授权
  - validator 校验用户输入的内容，校验后再进行存储
  - 设置 CSP 来减少 xss
  - 数据 ase 加密传输
  - 配置白名单
  - 阿里云 配置 服务器访问白名单
  - nginx 限制ip allow deny
    - 可以通过 shell 动态添加禁用 ip
    - 通过 GeoIP 可以限制不同的地区 ip 访问

### 复杂联动表单 以 api 方式调用的表单
- 改变数据流的形式，原先是v-model 直接绑定到一个data上，改写控件的 value 和 input 属性，通过 input 事件，发送事件到 form 层级的 formmodal 上面
- 两项之间的动态显示隐藏 schema 中包含一个 ifShow 函数，该函数的参数包含，formmodl，field, values，可以通过values中的所有数据，来动态返回一个 boolean，在 form-item 层级，通过 计算属性 computed 执行这个函数，通过返回值，来判断是否干的这个formitem元素，参数时通过 form 传递到 form-item 的表单所有参数
- 动态form校验 两种动态校验的方式
  - 第一是用 当前表单的值去进行动态返回是否必填，required 和 isShow 类似，接受表单值为参数，用作一个函数返回
  - 第二是支持自定义表单校验，例如正则什么的，接受表单值作为参数，返回一个 ant 的rules 规则数据
  - 最终我会构建成 ant 能识别的表单， 赋值给 form-item
- 如何去设置表单的值， 在 edit 的实话，回显数据
- 表单上传 文件上传的格式表现形式为， 一个uid和一个filename,一个filetype一个url 还是通过 ant-designer upload 去上传，拦截 value 的传值，在初始化为能够识别的 fileList，在 beforeUpload 中，再把
- 为什么要用 api 的形式调用呢
  - 因为 一个 hooks 加一个专属组件使用的话，能够更好的逻辑抽离，在业务层面可读性会高很多，所以通过 hooks 返回一个函数，给到组件，组件可以只接受一个函数，而完成数据的沟通，不需要通过 props，更加函数市编程，实现方式其实是，组件在mounted中调用这个函数，给给他提供一系列接受参数的方法，然含在hooks中调用这些方法，把数据传递到组件内，开发者，通过hooks内部再调用组件内部的方法，从而实现 api 的形式。
- 性能优化
  - 字段接口缓存，多余接口获取缓存
  - IntersectionObserver 检测进入视口后再进行加载，性能会大大提升

